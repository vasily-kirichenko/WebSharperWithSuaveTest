(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0;$.Define($$,{Arrays:{contains:function(_1,_2){var _3,_4,_5;_3=true;_4=0;_5=_2.length;while(_3?_4<_5:false){a.Equals(_2[_4],_1)?_3=false:_4=_4+1;}return!_3;},mapFold:function(_6,_7,_8){var _9,_,ba,bb,bc,bd;_9=b(_8.length);_=_7;for(ba=0;ba<=_8.length-1;ba++){bb=(_6(_))(c.get(_8,ba));bc=bb[1];bd=bb[0];c.set(_9,ba,bd);_=bc;}return[_9,_];},mapFoldBack:function(bd,be,bf){var bg,bh,bi,bj,bk,bl,bm,bn;bg=b(be.length);bh=bf;bi=be.length;for(bj=1;bj<=bi;bj++){bk=bi-bj;bl=(bd(c.get(be,bk)))(bh);bm=bl[1];bn=bl[0];c.set(bg,bk,bn);bh=bm;}return[bg,bh];},sortInPlaceByDescending:function(bo,bp){return bp.sort(function(bq,br){return-d.Compare(bo(bq),bo(br));});},splitInto:function(bs,bt){var bu,bv,bw,bx,by,bz,bA,bB;bs<=0?d.FailWith("Count must be positive"):null;bu=c.length(bt);if(bu===0){bv=[];}else{bw=d.Min(bs,bu);bx=b(bw);by=bu/bw>>0;bz=0;for(bA=0;bA<=bu%bw-1;bA++){c.set(bx,bA,c.sub(bt,bz,by+1));bz=bz+by+1;}for(bB=bu%bw;bB<=bw-1;bB++){c.set(bx,bB,c.sub(bt,bz,by));bz=bz+by;}bv=bx;}return bv;},tryFindBack:function(bC,bD){var bE,bF;bE={$:0};bF=bD.length-1;while(bF>0?bE.$==0:false){bC(c.get(bD,bF))?bE={$:1,$0:c.get(bD,bF)}:null;bF=bF-1;}return bE;},tryFindIndexBack:function(bG,bH){var bI,bJ;bI={$:0};bJ=bH.length-1;while(bJ>0?bI.$==0:false){bG(c.get(bH,bJ))?bI={$:1,$0:bJ}:null;bJ=bJ-1;}return bI;}},List:{map3:function(bK,bL,bM,bN){var bO;bO=c.map2(function(bP){return function(bQ){return bP(bQ);};},c.map2(bK,c.ofSeq(bL),c.ofSeq(bM)),c.ofSeq(bN));return e.ofArray(bO);},skip:function(bR,bS){var bT,bU,bV,bW;bT=bS;for(bU=1;bU<=bR;bU++){if(bT.$==0){bV=d.FailWith("Input list too short.");}else{bW=bT.$1;bV=bT=bW;}}return bT;},skipWhile:function(bX,bY){var bZ;bZ=bY;while(!(bZ.$==0)?bX(e.head(bZ)):false){bZ=e.tail(bZ);}return bZ;}},Seq:{chunkBySize:function(b0,b1){var b2;b0<=0?d.FailWith("Chunk size must be positive"):null;b2=function(){var b4,b5,b7;b4=f.Get(b1);b5=function(){return b4.Dispose();};b7=function(b8){var b9,b_,b$;if(b4.MoveNext()){b_=[b4.get_Current()];while(c.length(b_)<b0?b4.MoveNext():false){b$=b_.push(b4.get_Current());}b8.c=b_;b9=true;}else{b9=false;}return b9;};return g.New(null,null,b7,b5);};return h.Of(b2);},compareWith:function(ca,cb,cc){var cd,ce,cf,cg,ch,ci,cj;cd=f.Get(cb);try{cf=f.Get(cc);try{ch=0;ci=true;while(ci?ch===0:false){cj=[cd.MoveNext(),cf.MoveNext()];cj[0]?cj[1]?ch=(ca(cd.get_Current()))(cf.get_Current()):ch=1:cj[1]?ch=-1:ci=false;}cg=ch;}finally{cf.Dispose!=undefined?cf.Dispose():null;}ce=cg;}finally{cd.Dispose!=undefined?cd.Dispose():null;}return ce;},contains:function(ck,cl){var cm,cn,co;cm=f.Get(cl);try{co=false;while(!co?cm.MoveNext():false){co=a.Equals(cm.get_Current(),ck);}cn=co;}finally{cm.Dispose!=undefined?cm.Dispose():null;}return cn;},countBy:function(cp,cq){var cr;cr=function(){var ct,cu,cv,cw,cx,cy,cz,cA,cC,cD;ct={};cu=f.Get(cq);try{cw=[];while(cu.MoveNext()){cx=cp(cu.get_Current());cy=a.Hash(cx);if(ct.hasOwnProperty(cy)){cz=void(ct[cy]=ct[cy]+1);}else{cw.push(cx);cz=void(ct[cy]=1);}}cA=function(cB){return[cB,ct[a.Hash(cB)]];};cC=cw.slice(0);cD=c.map(cA,cC);cv=cD;}finally{cu.Dispose!=undefined?cu.Dispose():null;}return cv;};return i.delay(cr);},distinct:function(cE){return j.distinctBy(function(cF){return cF;},cE);},distinctBy:function(cG,cH){var cI;cI=function(){var cK,cL,cM,cU,cW;cK=f.Get(cH);cL=b.prototype.constructor.apply(b,[]);cM=function(cN){var cO,cP,cQ,cR,cS,cT;cO=cG(cN);cP=a.Hash(cO);cQ=cL[cP];if(a.Equals(cQ,undefined)){cL[cP]=[cO];cR=true;}else{if(k.contains(cO,cQ)){cS=false;}else{cT=cQ.push(cO);cS=true;}cR=cS;}return cR;};cU=function(){return cK.Dispose();};cW=function(cX){var cY,cZ,c0,c1;if(cK.MoveNext()){cZ=cK.get_Current();c0=cM(cZ);while(!c0?cK.MoveNext():false){cZ=cK.get_Current();c0=cM(cZ);}if(c0){cX.c=cZ;c1=true;}else{c1=false;}cY=c1;}else{cY=false;}return cY;};return g.New(null,null,cW,cU);};return h.Of(cI);},except:function(c2,c3){var c4;c4=function(){var c6,c7,c8,dd,de,df,dg,dh,dj;c6=f.Get(c3);c7=b.prototype.constructor.apply(b,[]);c8=function(c9){var c_,c$,da,db,dc;c_=a.Hash(c9);c$=c7[c_];if(a.Equals(c$,undefined)){c7[c_]=[c9];da=true;}else{if(k.contains(c9,c$)){db=false;}else{dc=c$.push(c9);db=true;}da=db;}return da;};dd=f.Get(c2);try{while(dd.MoveNext()){df=dd.get_Current();dg=c8(df);}}finally{dd.Dispose!=undefined?dd.Dispose():null;}dh=function(){return c6.Dispose();};dj=function(dk){var dl,dm,dn,_do;if(c6.MoveNext()){dm=c6.get_Current();dn=c8(dm);while(!dn?c6.MoveNext():false){dm=c6.get_Current();dn=c8(dm);}if(dn){dk.c=dm;_do=true;}else{_do=false;}dl=_do;}else{dl=false;}return dl;};return g.New(null,null,dj,dh);};return h.Of(c4);},groupBy:function(dp,dq){return i.delay(function(){var ds,dt,du,dv,dw,dx,dy,dz;ds={};dt={};du=[];dv=f.Get(dq);try{while(dv.MoveNext()){dx=dv.get_Current();dy=dp(dx);dz=a.Hash(dy);!ds.hasOwnProperty(dz)?du.push(dy):null;dt[dz]=dy;ds.hasOwnProperty(dz)?ds[dz].push(dx):void(ds[dz]=[dx]);}dw=c.map(function(dA){return[dA,ds[a.Hash(dA)]];},du);}finally{dv.Dispose!=undefined?dv.Dispose():null;}return dw;});},insufficient:function(){return d.FailWith("The input sequence has an insufficient number of elements.");},last:function(dB){var dC,dD,dE,dF;dC=f.Get(dB);try{dE=dC.MoveNext();if(!dE){dF=j.insufficient();}else{while(dC.MoveNext()){}dF=dC.get_Current();}dD=dF;}finally{dC.Dispose!=undefined?dC.Dispose():null;}return dD;},nonNegative:function(){return d.FailWith("The input must be non-negative.");},pairwise:function(dG){var dH,dJ;dH=function(dI){return[c.get(dI,0),c.get(dI,1)];};dJ=j.windowed(2,dG);return i.map(dH,dJ);},truncate:function(dK,dL){return i.delay(function(){return i.enumUsing(f.Get(dL),function(dN){var dO;dO=[0];return i.enumWhile(function(){return dN.MoveNext()?dO[0]<dK:false;},i.delay(function(){l.incr(dO);return[dN.get_Current()];}));});});},tryHead:function(dR){var dS,dT;dS=f.Get(dR);try{dT=dS.MoveNext()?{$:1,$0:dS.get_Current()}:{$:0};}finally{dS.Dispose!=undefined?dS.Dispose():null;}return dT;},tryItem:function(dU,dV){var dW,dX,dY,dZ,d0;if(dU<0){dW={$:0};}else{dX=0;dY=f.Get(dV);try{d0=true;while(d0?dX<=dU:false){dY.MoveNext()?dX=dX+1:d0=false;}dZ=d0?{$:1,$0:dY.get_Current()}:{$:0};}finally{dY.Dispose!=undefined?dY.Dispose():null;}dW=dZ;}return dW;},tryLast:function(d1){var d2,d3,d4;d2=f.Get(d1);try{if(d2.MoveNext()){while(d2.MoveNext()){}d4={$:1,$0:d2.get_Current()};}else{d4={$:0};}d3=d4;}finally{d2.Dispose!=undefined?d2.Dispose():null;}return d3;},unfold:function(d5,d6){var d7;d7=function(){var d9;d9=function(d_){var d$,ea,eb,ec;d$=d5(d_.s);if(d$.$==0){ea=false;}else{eb=d$.$0[0];ec=d$.$0[1];d_.c=eb;d_.s=ec;ea=true;}return ea;};return g.New(d6,null,d9,function(){});};return h.Of(d7);},windowed:function(ee,ef){ee<=0?d.FailWith("The input must be positive."):null;return i.delay(function(){return i.enumUsing(f.Get(ef),function(eh){var ei;ei=[];return i.append(i.enumWhile(function(){return ei.length<ee?eh.MoveNext():false;},i.delay(function(){ei.push(eh.get_Current());return i.empty();})),i.delay(function(){return ei.length===ee?i.append([ei.slice(0)],i.delay(function(){return i.enumWhile(function(){return eh.MoveNext();},i.delay(function(){ei.shift();ei.push(eh.get_Current());return[ei.slice(0)];}));})):i.empty();}));});});}},WebSharper:{Activator:{Activate:$.Field(function(){var ep,eq;if(m.hasDocument()){eq=n.getElementById("websharper-data");ep=eq?o(n).ready(function(){var es,et,eu,eA;es=eq.getAttribute("content");et=p.Activate(q.parse(es));eu=function(ev){var ew,ex,ey,ez;ew=ev[0];ex=ev[1];ey=ex.get_Body();ez=n.getElementById(ew);return ey.ReplaceInDom(ez);};eA=s.GetFields(et);return c.iter(eu,eA);}):null;}else{ep=null;}return ep;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},AggregateException:$.Class({},{New:function(eB){return $.New(this,t.New1("One or more errors occurred.",eB));},New1:function(eC){return $.New(this,u.New1(eC));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,v.New1("Value does not fall within the expected range."));},New1:function(eE){return $.New(this,u.New1(eE));}}),Arrays:{average:function(eF){return w(c.sum(eF))/w(eF.length);},averageBy:function(eG,eH){return w(c.sumBy(eG,eH))/w(eH.length);},blit:function(eI,eJ,eK,eL,eM){var eN;c.checkRange(eI,eJ,eM);c.checkRange(eK,eL,eM);for(eN=0;eN<=eM-1;eN++){c.set(eK,eL+eN,c.get(eI,eJ+eN));}return;},checkBounds:function(eO,eP){return(eP<0?true:eP>=eO.length)?d.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(eQ,eR,eS){return(((eR<0?true:eS<0)?true:eR>=eQ.length)?true:eS>=(eQ.length?eQ[0].length:0))?d.Raise(x.New()):null;},checkLength:function(eT,eU){return eT.length!==eU.length?d.FailWith("Arrays differ in length."):null;},checkRange:function(eV,eW,eX){return((eX<0?true:eW<0)?true:eV.length<eW+eX)?d.FailWith("Index was outside the bounds of the array."):null;},choose:function(eY,eZ){var e0,e1,e2,e3,e4;e0=[];for(e1=0;e1<=eZ.length-1;e1++){e2=eY(c.get(eZ,e1));if(e2.$==0){e3=null;}else{e4=e2.$0;e3=e0.push(e4);}}return e0;},chunkBySize:function(e5,e6){var e7;e7=j.chunkBySize(e5,e6);return i.toArray(e7);},collect:function(e8,e9){return b.prototype.concat.apply([],c.map(e8,e9));},compareWith:function(e_,e$,fa){return j.compareWith(e_,e$,fa);},concat:function(fb){return b.prototype.concat.apply([],c.ofSeq(fb));},contains:function(fc,fd){return j.contains(fc,fd);},countBy:function(fe,ff){var fg;fg=j.countBy(fe,ff);return i.toArray(fg);},create:function(fh,fi){var fj,fk;fj=b(fh);for(fk=0;fk<=fh-1;fk++){c.set(fj,fk,fi);}return fj;},create2D:function(fl){var fm,fo,fp;fm=function(fn){return c.ofSeq(fn);};fo=i.map(fm,fl);fp=c.ofSeq(fo);fp.dims=2;return fp;},distinct:function(fq){var fr;fr=j.distinct(fq);return i.toArray(fr);},distinctBy:function(fs,ft){var fu;fu=j.distinctBy(fs,ft);return i.toArray(fu);},exactlyOne:function(fv){return c.length(fv)===1?c.get(fv,0):d.FailWith("The input does not have precisely one element.");},except:function(fw,fx){var fy;fy=j.except(fw,fx);return i.toArray(fy);},exists2:function(fz,fA,fB){c.checkLength(fA,fB);return i.exists2(fz,fA,fB);},fill:function(fC,fD,fE,fF){var fG;c.checkRange(fC,fD,fE);for(fG=fD;fG<=fD+fE-1;fG++){c.set(fC,fG,fF);}return;},filter:function(fH,fI){var fJ,fK;fJ=[];for(fK=0;fK<=fI.length-1;fK++){fH(c.get(fI,fK))?fJ.push(c.get(fI,fK)):null;}return fJ;},find:function(fL,fM){var fN,fO,fP;fN=c.tryFind(fL,fM);if(fN.$==0){fO=d.FailWith("KeyNotFoundException");}else{fP=fN.$0;fO=fP;}return fO;},findBack:function(fQ,fR){var fS,fT,fU;fS=k.tryFindBack(fQ,fR);if(fS.$==0){fT=d.FailWith("KeyNotFoundException");}else{fU=fS.$0;fT=fU;}return fT;},findINdex:function(fV,fW){var fX,fY,fZ;fX=c.tryFindIndex(fV,fW);if(fX.$==0){fY=d.FailWith("KeyNotFoundException");}else{fZ=fX.$0;fY=fZ;}return fY;},findIndexBack:function(f0,f1){var f2,f3,f4;f2=k.tryFindIndexBack(f0,f1);if(f2.$==0){f3=d.FailWith("KeyNotFoundException");}else{f4=f2.$0;f3=f4;}return f3;},fold:function(f5,f6,f7){var f8,f9;f8=f6;for(f9=0;f9<=f7.length-1;f9++){f8=(f5(f8))(c.get(f7,f9));}return f8;},fold2:function(f_,f$,ga,gb){var gc,gd;c.checkLength(ga,gb);gc=f$;for(gd=0;gd<=ga.length-1;gd++){gc=((f_(gc))(c.get(ga,gd)))(c.get(gb,gd));}return gc;},foldBack:function(ge,gf,gg){var gh,gi,gj;gh=gg;gi=gf.length;for(gj=1;gj<=gi;gj++){gh=(ge(c.get(gf,gi-gj)))(gh);}return gh;},foldBack2:function(gk,gl,gm,gn){var go,gp,gq;c.checkLength(gl,gm);go=gl.length;gp=gn;for(gq=1;gq<=go;gq++){gp=((gk(c.get(gl,go-gq)))(c.get(gm,go-gq)))(gp);}return gp;},forall2:function(gr,gs,gt){c.checkLength(gs,gt);return i.forall2(gr,gs,gt);},get:function(gu,gv){c.checkBounds(gu,gv);return gu[gv];},get2D:function(gw,gx,gy){c.checkBounds2D(gw,gx,gy);return gw[gx][gy];},groupBy:function(gz,gA){var gB,gF,gG;gB=function(gC){var gD,gE;gD=gC[0];gE=gC[1];return[gD,i.toArray(gE)];};gF=j.groupBy(gz,gA);gG=i.toArray(gF);return c.map(gB,gG);},head:function(gH){return e.head(e.ofArray(gH));},indexed:function(gI){return c.mapi(function(gJ){return function(gK){return[gJ,gK];};},gI);},init:function(gL,gM){var gN,gO;gL<0?d.FailWith("Negative size given."):null;gN=b(gL);for(gO=0;gO<=gL-1;gO++){c.set(gN,gO,gM(gO));}return gN;},iter:function(gP,gQ){var gR;for(gR=0;gR<=gQ.length-1;gR++){gP(c.get(gQ,gR));}return;},iter2:function(gS,gT,gU){var gV;c.checkLength(gT,gU);for(gV=0;gV<=gT.length-1;gV++){(gS(c.get(gT,gV)))(c.get(gU,gV));}return;},iteri:function(gW,gX){var gY;for(gY=0;gY<=gX.length-1;gY++){(gW(gY))(c.get(gX,gY));}return;},iteri2:function(gZ,g0,g1){var g2;c.checkLength(g0,g1);for(g2=0;g2<=g0.length-1;g2++){((gZ(g2))(c.get(g0,g2)))(c.get(g1,g2));}return;},last:function(g3){return j.last(g3);},length:function(g4){var g5;g5=g4.dims;return g5===2?g4.length*g4.length:g4.length;},map:function(g6,g7){var g8,g9;g8=b(g7.length);for(g9=0;g9<=g7.length-1;g9++){c.set(g8,g9,g6(c.get(g7,g9)));}return g8;},map2:function(g_,g$,ha){var hb,hc;c.checkLength(g$,ha);hb=b(ha.length);for(hc=0;hc<=ha.length-1;hc++){c.set(hb,hc,(g_(c.get(g$,hc)))(c.get(ha,hc)));}return hb;},map3:function(hd,he,hf,hg){var hh;hh=y.map3(hd,e.ofArray(he),e.ofArray(hf),e.ofArray(hg));return c.ofSeq(hh);},mapi:function(hi,hj){var hk,hl;hk=b(hj.length);for(hl=0;hl<=hj.length-1;hl++){c.set(hk,hl,(hi(hl))(c.get(hj,hl)));}return hk;},mapi2:function(hm,hn,ho){var hp,hq;c.checkLength(hn,ho);hp=b(hn.length);for(hq=0;hq<=hn.length-1;hq++){c.set(hp,hq,((hm(hq))(c.get(hn,hq)))(c.get(ho,hq)));}return hp;},max:function(hr){return c.reduce(function(hs){return function(ht){return d.Max(hs,ht);};},hr);},maxBy:function(hu,hv){return c.reduce(function(hw){return function(hx){return a.Compare(hu(hw),hu(hx))===1?hw:hx;};},hv);},min:function(hy){return c.reduce(function(hz){return function(hA){return d.Min(hz,hA);};},hy);},minBy:function(hB,hC){return c.reduce(function(hD){return function(hE){return a.Compare(hB(hD),hB(hE))===-1?hD:hE;};},hC);},nonEmpty:function(hF){return hF.length===0?d.FailWith("The input array was empty."):null;},ofSeq:function(hG){var hH,hI,hJ;hH=[];hI=f.Get(hG);try{while(hI.MoveNext()){hH.push(hI.get_Current());}hJ=hH;}finally{hI.Dispose!=undefined?hI.Dispose():null;}return hJ;},pairwise:function(hK){var hL;hL=j.pairwise(hK);return i.toArray(hL);},partition:function(hM,hN){var hO,hP,hQ;hO=[];hP=[];for(hQ=0;hQ<=hN.length-1;hQ++){hM(c.get(hN,hQ))?hO.push(c.get(hN,hQ)):hP.push(c.get(hN,hQ));}return[hO,hP];},permute:function(hR,hS){var hT,hU;hT=b(hS.length);for(hU=0;hU<=hS.length-1;hU++){c.set(hT,hR(hU),c.get(hS,hU));}return hT;},pick:function(hV,hW){var hX,hY,hZ;hX=c.tryPick(hV,hW);if(hX.$==0){hY=d.FailWith("KeyNotFoundException");}else{hZ=hX.$0;hY=hZ;}return hY;},reduce:function(h0,h1){var h2,h3;c.nonEmpty(h1);h2=c.get(h1,0);for(h3=1;h3<=h1.length-1;h3++){h2=(h0(h2))(c.get(h1,h3));}return h2;},reduceBack:function(h4,h5){var h6,h7,h8;c.nonEmpty(h5);h6=h5.length;h7=c.get(h5,h6-1);for(h8=2;h8<=h6;h8++){h7=(h4(c.get(h5,h6-h8)))(h7);}return h7;},replicate:function(h9,h_){return c.create(h9,h_);},reverse:function(h$,ia,ib){var ic;ic=c.sub(h$,ia,ib).slice().reverse();return c.blit(ic,0,h$,ia,c.length(ic));},scan:function(id,ie,_if){var ig,ih;ig=b(1+_if.length);c.set(ig,0,ie);for(ih=0;ih<=_if.length-1;ih++){c.set(ig,ih+1,(id(c.get(ig,ih)))(c.get(_if,ih)));}return ig;},scanBack:function(ii,ij,ik){var il,im,_in;il=ij.length;im=b(1+il);c.set(im,il,ik);for(_in=0;_in<=il-1;_in++){c.set(im,il-_in-1,(ii(c.get(ij,il-_in-1)))(c.get(im,il-_in)));}return im;},set:function(io,ip,iq){c.checkBounds(io,ip);io[ip]=iq;return;},set2D:function(ir,is,it,iu){c.checkBounds2D(ir,is,it);ir[is][it]=iu;return;},setSub:function(iv,iw,ix,iy){var iz;for(iz=0;iz<=ix-1;iz++){c.set(iv,iw+iz,c.get(iy,iz));}return;},setSub2D:function(iA,iB,iC,iD,iE,iF){var iG,iH;for(iG=0;iG<=iD-1;iG++){for(iH=0;iH<=iE-1;iH++){c.set2D(iA,iB+iG,iC+iH,c.get2D(iF,iG,iH));}}return;},skip:function(iI,iJ){return iI<0?j.nonNegative():iI>c.length(iJ)?j.insufficient():iJ.slice(iI);},skipWhile:function(iK,iL){var iM,iN;iM=c.length(iL);iN=0;while(iN<iM?iK(c.get(iL,iN)):false){iN=iN+1;}return iL.slice(iN);},sort:function(iO){return c.sortBy(function(iP){return iP;},iO);},sortBy:function(iQ,iR){return iR.slice().sort(function(iS,iT){return d.Compare(iQ(iS),iQ(iT));});},sortByDescending:function(iU,iV){return iV.slice().sort(function(iW,iX){return-d.Compare(iU(iW),iU(iX));});},sortDescending:function(iY){return c.sortByDescending(function(iZ){return iZ;},iY);},sortInPlace:function(i0){return c.sortInPlaceBy(function(i1){return i1;},i0);},sortInPlaceBy:function(i2,i3){return i3.sort(function(i4,i5){return d.Compare(i2(i4),i2(i5));});},sortInPlaceWith:function(i6,i7){return i7.sort(function(i8,i9){return(i6(i8))(i9);});},sortWith:function(i_,i$){return i$.slice().sort(function(ja,jb){return(i_(ja))(jb);});},splitAt:function(jc,jd){return[c.take(jc,jd),c.skip(jc,jd)];},sub:function(je,jf,jg){c.checkRange(je,jf,jg);return je.slice(jf,jf+jg);},sub2D:function(jh,ji,jj,jk,jl){var jm,jn,jo,jp,jq;jm=jk<0?0:jk;jn=jl<0?0:jl;jo=c.zeroCreate2D(jm,jn);for(jp=0;jp<=jm-1;jp++){for(jq=0;jq<=jn-1;jq++){c.set2D(jo,jp,jq,c.get2D(jh,ji+jp,jj+jq));}}return jo;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tail:function(jr){return c.skip(1,jr);},take:function(js,jt){return js<0?j.nonNegative():js>c.length(jt)?j.insufficient():jt.slice(0,js);},takeWhile:function(ju,jv){var jw,jx;jw=c.length(jv);jx=0;while(jx<jw?ju(c.get(jv,jx)):false){jx=jx+1;}return jv.slice(0,jx);},truncate:function(jy,jz){return jz.slice(jy);},tryFind:function(jA,jB){var jC,jD;jC={$:0};jD=0;while(jD<jB.length?jC.$==0:false){jA(c.get(jB,jD))?jC={$:1,$0:c.get(jB,jD)}:null;jD=jD+1;}return jC;},tryFindIndex:function(jE,jF){var jG,jH;jG={$:0};jH=0;while(jH<jF.length?jG.$==0:false){jE(c.get(jF,jH))?jG={$:1,$0:jH}:null;jH=jH+1;}return jG;},tryHead:function(jI){return c.length(jI)===0?{$:0}:{$:1,$0:jI[0]};},tryItem:function(jJ,jK){return(c.length(jK)<=jJ?true:jJ<0)?{$:0}:{$:1,$0:jK[jJ]};},tryLast:function(jL){var jM;jM=c.length(jL);return jM===0?{$:0}:{$:1,$0:jL[jM-1]};},tryPick:function(jN,jO){var jP,jQ,jR;jP={$:0};jQ=0;while(jQ<jO.length?jP.$==0:false){jR=jN(c.get(jO,jQ));jR.$==1?jP=jR:null;jQ=jQ+1;}return jP;},unfold:function(jS,jT){var jU;jU=j.unfold(jS,jT);return i.toArray(jU);},unzip:function(jV){var jW,jX,jY,jZ,j0,j1;jW=[];jX=[];for(jY=0;jY<=jV.length-1;jY++){jZ=c.get(jV,jY);j0=jZ[1];j1=jZ[0];jW.push(j1);jX.push(j0);}return[jW,jX];},unzip3:function(j2){var j3,j4,j5,j6,j7,j8,j9,j_;j3=[];j4=[];j5=[];for(j6=0;j6<=j2.length-1;j6++){j7=c.get(j2,j6);j8=j7[2];j9=j7[1];j_=j7[0];j3.push(j_);j4.push(j9);j5.push(j8);}return[j3,j4,j5];},windowed:function(j$,ka){var kb;kb=j.windowed(j$,ka);return i.toArray(kb);},zeroCreate2D:function(kc,kd){var ke;ke=c.init(kc,function(){return b(kd);});ke.dims=2;return ke;},zip:function(kg,kh){var ki,kj;c.checkLength(kg,kh);ki=b(kg.length);for(kj=0;kj<=kg.length-1;kj++){c.set(ki,kj,[c.get(kg,kj),c.get(kh,kj)]);}return ki;},zip3:function(kk,kl,km){var kn,ko;c.checkLength(kk,kl);c.checkLength(kl,km);kn=b(kk.length);for(ko=0;ko<=kk.length-1;ko++){c.set(kn,ko,[c.get(kk,ko),c.get(kl,ko),c.get(km,ko)]);}return kn;}},Arrays2D:{copy:function(kp){return z.init(kp.length,kp.length?kp[0].length:0,function(kq){return function(kr){return c.get2D(kp,kq,kr);};});},init:function(ks,kt,ku){var kv,kw,kx;kv=c.zeroCreate2D(ks,kt);for(kw=0;kw<=ks-1;kw++){for(kx=0;kx<=kt-1;kx++){c.set2D(kv,kw,kx,(ku(kw))(kx));}}return kv;},iter:function(ky,kz){var kA,kB,kC,kD;kA=kz.length;kB=kz.length?kz[0].length:0;for(kC=0;kC<=kA-1;kC++){for(kD=0;kD<=kB-1;kD++){ky(c.get2D(kz,kC,kD));}}return;},iteri:function(kE,kF){var kG,kH,kI,kJ;kG=kF.length;kH=kF.length?kF[0].length:0;for(kI=0;kI<=kG-1;kI++){for(kJ=0;kJ<=kH-1;kJ++){((kE(kI))(kJ))(c.get2D(kF,kI,kJ));}}return;},map:function(kK,kL){return z.init(kL.length,kL.length?kL[0].length:0,function(kM){return function(kN){return kK(c.get2D(kL,kM,kN));};});},mapi:function(kO,kP){return z.init(kP.length,kP.length?kP[0].length:0,function(kQ){return function(kR){return((kO(kQ))(kR))(c.get2D(kP,kQ,kR));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return A.GetCT();},get_DefaultCancellationToken:function(){return(A.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var kS,kT,kX,kY;if(!this.c){this.c=true;kT=function(kU){var kV,kW;try{kU(null);kV={$:0};}catch(kW){kV={$:1,$0:kW};}return kV;};kX=this.r;kY=c.choose(kT,kX);kS=c.length(kY)>0?d.Raise(t.New(kY)):null;}else{kS=null;}return kS;},Cancel1:function(kZ){var k0,k1,k2,k4;if(!kZ){k0=this.Cancel();}else{if(!this.c){this.c=true;k2=function(k3){return k3(null);};k4=this.r;k1=c.iter(k2,k4);}else{k1=null;}k0=k1;}return k0;},CancelAfter:function(k5){var k6,k7,k9,k$=this;if(!this.c){k7=this.pending;B.iter(function(k8){return C(k8);},k7);k9=D(function(){return k$.Cancel();},k5);k6=void(this.pending={$:1,$0:k9});}else{k6=null;}return k6;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(la,lb){return E.CreateLinkedTokenSource1([la,lb]);},CreateLinkedTokenSource1:function(lc){var ld,le;ld=E.New();le=function(lf){var lg;lg=A.Register(lf,function(){return function(){return ld.Cancel();}();});return;};return c.iter(le,lc);},New:function(){var lj;lj=$.New(this,{});lj.c=false;lj.pending={$:0};lj.r=[];return lj;}}),Char:$.Class({},{GetNumericValue:function(lk){return(lk>=48?lk<=57:false)?w(lk)-w(48):-1;},IsControl:function(ll){return(ll>=0?ll<=31:false)?true:ll>=128?ll<=159:false;},IsDigit:function(lm){return lm>=48?lm<=57:false;},IsLetter:function(ln){return(ln>=65?ln<=90:false)?true:ln>=97?ln<=122:false;},IsLetterOrDigit:function(lo){return F.IsLetter(lo)?true:F.IsDigit(lo);},IsLower:function(lp){return lp>=97?lp<=122:false;},IsUpper:function(lq){return lq>=65?lq<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(lr){return lr.length===1?lr.charCodeAt(0):d.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(ls){var lt;lt=function(lu){var lv,lw,lx,ly,lz,lA;lv=function(){return G.subscribeTo(ls,function(lC){var lD;H.Force(lw).Dispose();H.Force(ly).Dispose();lD=function(){return lu.k.call(null,{$:0,$0:lC});};return A.scheduler().Fork(lD);});};lw=H.Create(lv);lx=function(){return A.Register(lu.ct,function(){var lH;H.Force(lw).Dispose();lH=function(){return lu.k.call(null,{$:2,$0:I.New()});};return A.scheduler().Fork(lH);});};ly=H.Create(lx);lz=H.Force(lw);lA=H.Force(ly);return null;};return A.checkCancel(lt);},Bind:function(lJ,lK){var lL;lL=function(lM){return lJ({k:function(lN){var lO,lP,lQ,lU;if(lN.$==0){lP=lN.$0;lQ=function(){var lS,lT;try{lS=(lK(lP))(lM);}catch(lT){lS=lM.k.call(null,{$:1,$0:lT});}return lS;};lO=A.scheduler().Fork(lQ);}else{lU=function(){return lM.k.call(null,lN);};lO=A.scheduler().Fork(lU);}return lO;},ct:lM.ct});};return A.checkCancel(lL);},Catch:function(lW){var lX;lX=function(lY){var lZ,l4;try{lZ=lW({k:function(l0){var l1,l2,l3;if(l0.$==0){l2=l0.$0;l1=lY.k.call(null,{$:0,$0:{$:0,$0:l2}});}else{if(l0.$==1){l3=l0.$0;l1=lY.k.call(null,{$:0,$0:{$:1,$0:l3}});}else{l1=lY.k.call(null,l0);}}return l1;},ct:lY.ct});}catch(l4){lZ=lY.k.call(null,{$:0,$0:{$:1,$0:l4}});}return lZ;};return A.checkCancel(lX);},Combine:function(l5,l6){return A.Bind(l5,function(){return l6;});},Delay:function(l8){var l9;l9=function(l_){var l$,ma;try{l$=(l8(null))(l_);}catch(ma){l$=l_.k.call(null,{$:1,$0:ma});}return l$;};return A.checkCancel(l9);},For:function(mb,mc){return A.Using(f.Get(mb),function(md){return A.While(function(){return md.MoveNext();},A.Delay(function(){return mc(md.get_Current());}));});},FromContinuations:function(mg){var mh;mh=function(mi){var mj,mk;mj=[false];mk=function(ml){var mm;if(mj[0]){mm=d.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{mj[0]=true;mm=A.scheduler().Fork(ml);}return mm;};return mg([function(mn){return mk(function(){return mi.k.call(null,{$:0,$0:mn});});},function(mp){return mk(function(){return mi.k.call(null,{$:1,$0:mp});});},function(mr){return mk(function(){return mi.k.call(null,{$:2,$0:mr});});}]);};return A.checkCancel(mh);},GetCT:$.Field(function(){var mt;mt=function(mu){return mu.k.call(null,{$:0,$0:mu.ct});};return A.checkCancel(mt);}),Ignore:function(mv){return A.Bind(mv,function(){return A.Return(null);});},OnCancel:function(mx){var my;my=function(mz){return mz.k.call(null,{$:0,$0:A.Register(mz.ct,mx)});};return A.checkCancel(my);},Parallel:function(mA){var mB,mC,mD;mB=c.ofSeq(mA);if(c.length(mB)===0){mC=A.Return([]);}else{mD=function(mE){var mF,mG,mH,mI;mF=mB.length;mG=[mF];mH=c.create(mF,undefined);mI=function(mJ){return function(mK){var mL,mM,mN,mO,mP,mQ,mR,mS,mT;mL=[mG[0],mK];if(mL[0]===0){mM=null;}else{if(mL[0]===1){if(mL[1].$==0){mO=mL[1].$0;c.set(mH,mJ,mO);mG[0]=0;mN=mE.k.call(null,{$:0,$0:mH});}else{mL[0];mP=mL[1];mG[0]=0;mN=mE.k.call(null,mP);}mM=mN;}else{if(mL[1].$==0){mR=mL[1].$0;mS=mL[0];c.set(mH,mJ,mR);mQ=void(mG[0]=mS-1);}else{mL[0];mT=mL[1];mG[0]=0;mQ=mE.k.call(null,mT);}mM=mQ;}}return mM;};};return c.iteri(function(mU){return function(mV){var mW;mW=function(){return mV({k:mI(mU),ct:mE.ct});};return A.scheduler().Fork(mW);};},mB);};mC=A.checkCancel(mD);}return mC;},Register:function(mY,mZ){var m0;m0=mY.r.push(mZ)-1;return{Dispose:function(){return c.set(mY.r,m0,function(){});}};},Return:function(m3){var m4;m4=function(m5){return m5.k.call(null,{$:0,$0:m3});};return A.checkCancel(m4);},Scheduler:$.Class({Fork:function(m6){var m7,m8,m_=this;this.robin.push(m6);if(this.idle){this.idle=false;m8=D(function(){return m_.tick();},0);m7=void m8;}else{m7=null;}return m7;},tick:function(){var m$,na,nb,nc,nd,ne,ng=this;m$=J.now();na=true;while(na){nb=this.robin.length;if(nb===0){this.idle=true;nc=na=false;}else{(this.robin.shift())(null);if(J.now()-m$>40){ne=D(function(){return ng.tick();},0);nd=na=false;}else{nd=null;}nc=nd;}}return;}},{New:function(){var nh;nh=$.New(this,{});nh.idle=true;nh.robin=[];return nh;}}),Sleep:function(ni){var nj;nj=function(nk){var nl,nm,nn,no,np,nq;nl=function(){return D(function(){var nt;H.Force(no).Dispose();nt=function(){return nk.k.call(null,{$:0,$0:null});};return A.scheduler().Fork(nt);},ni);};nm=H.Create(nl);nn=function(){return A.Register(nk.ct,function(){var nx;C(H.Force(nm));nx=function(){return nk.k.call(null,{$:2,$0:I.New()});};return A.scheduler().Fork(nx);});};no=H.Create(nn);np=H.Force(nm);nq=H.Force(no);return null;};return A.checkCancel(nj);},Start:function(nz,nA){return A.StartWithContinuations(nz,function(){},function(nC){var nD;nD=[nC];return K?K.log.apply(K,["WebSharper: Uncaught asynchronous exception"].concat(nD)):undefined;},function(){},nA);},StartChild:function(nF){var nG;nG=function(nH){var nI,nJ,nK,nN,nS;nI=[{$:0}];nJ=[];nK=function(){return nF({k:function(nM){nI[0]={$:1,$0:nM};while(nJ.length>0){(nJ.shift())(nM);}return;},ct:nH.ct});};A.scheduler().Fork(nK);nN=function(nO){var nP,nQ,nR;nP=nI[0];if(nP.$==0){nQ=nJ.push(nO.k);}else{nR=nP.$0;nQ=nO.k.call(null,nR);}return nQ;};nS=A.checkCancel(nN);return nH.k.call(null,{$:0,$0:nS});};return A.checkCancel(nG);},StartWithContinuations:function(nT,nU,nV,nW,nX){var nY,nZ;nY=d.DefaultArg(nX,(A.defCTS())[0]);nZ=function(){return nT({k:function(n1){var n2,n3,n4,n5;if(n1.$==1){n3=n1.$0;n2=nV(n3);}else{if(n1.$==2){n4=n1.$0;n2=nW(n4);}else{n5=n1.$0;n2=nU(n5);}}return n2;},ct:nY});};return A.scheduler().Fork(nZ);},TryCancelled:function(n6,n7){var n8;n8=function(n9){return n6({k:function(n_){var n$,oa;if(n_.$==2){oa=n_.$0;n7(oa);n$=n9.k.call(null,n_);}else{n$=n9.k.call(null,n_);}return n$;},ct:n9.ct});};return A.checkCancel(n8);},TryFinally:function(ob,oc){var od;od=function(oe){return ob({k:function(of){var og,oh;try{oc(null);og=oe.k.call(null,of);}catch(oh){og=oe.k.call(null,{$:1,$0:oh});}return og;},ct:oe.ct});};return A.checkCancel(od);},TryWith:function(oi,oj){var ok;ok=function(ol){return oi({k:function(om){var on,oo,op,oq,or;if(om.$==0){oo=om.$0;on=ol.k.call(null,{$:0,$0:oo});}else{if(om.$==1){op=om.$0;try{oq=(oj(op))(ol);}catch(or){oq=ol.k.call(null,om);}on=oq;}else{on=ol.k.call(null,om);}}return on;},ct:ol.ct});};return A.checkCancel(ok);},Using:function(os,ot){return A.TryFinally(ot(os),function(){return os.Dispose();});},While:function(ov,ow){return ov(null)?A.Bind(ow,function(){return A.While(ov,ow);}):A.Return(null);},checkCancel:function(oy){return function(oz){return oz.ct.c?oz.k.call(null,{$:2,$0:I.New()}):oy(oz);};},defCTS:$.Field(function(){return[E.New()];}),scheduler:$.Field(function(){return L.New();})},Control:{createEvent:function(oA,oB,oC){return{AddHandler:oA,RemoveHandler:oB,Subscribe:function(oD){var oE;oE=oC(function(){return function(oG){return oD.OnNext.call(null,oG);};});oA(oE);return{Dispose:function(){return oB(oE);}};}};}},DateTimeHelpers:{AddMonths:function(oI,oJ){var oK;oK=new J(oI);return(new J(oK.getFullYear(),oK.getMonth()+oJ,oK.getDate(),oK.getHours(),oK.getMinutes(),oK.getSeconds(),oK.getMilliseconds())).getTime();},AddYears:function(oL,oM){var oN;oN=new J(oL);return(new J(oN.getFullYear()+oM,oN.getMonth(),oN.getDate(),oN.getHours(),oN.getMinutes(),oN.getSeconds(),oN.getMilliseconds())).getTime();},DatePortion:function(oO){var oP;oP=new J(oO);return(new J(oP.getFullYear(),oP.getMonth(),oP.getDate())).getTime();},LongDate:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});},LongTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});},Parse:function(oQ){var oR;oR=J.parse(oQ);return $$.isNaN(oR)?d.FailWith("Failed to parse date string."):oR;},ShortTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});},TimePortion:function(oS){var oT;oT=new J(oS);return(((24*0+oT.getHours())*60+oT.getMinutes())*60+oT.getSeconds())*1000+oT.getMilliseconds();}},Enumerable:{Of:function(oU){return{GetEnumerator:oU};}},Enumerator:{Get:function(oV){return oV instanceof $$.Array?g.New(0,null,function(oW){var oX,oY;oX=oW.s;if(oX<c.length(oV)){oW.c=c.get(oV,oX);oW.s=oX+1;oY=true;}else{oY=false;}return oY;},function(){}):a.Equals(typeof oV,"string")?g.New(0,null,function(o0){var o1,o2;o1=o0.s;if(o1<oV.length){o0.c=oV.charCodeAt(o1);o0.s=o1+1;o2=true;}else{o2=false;}return o2;},function(){}):oV.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(o4,o5,o6,o7){var o8;o8=$.New(this,{});o8.s=o4;o8.c=o5;o8.n=o6;o8.d=o7;return o8;}})},Exception:$.Class({},{New:function(){return $.New(this,u.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(o9){return N.New(o9);},SingleNode:$.Class({ReplaceInDom:function(o_){var o$;o$=this.node.parentNode.replaceChild(this.node,o_);return;}},{New:function(pa){var pb;pb=$.New(this,{});pb.node=pa;return pb;}})},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,x.New1("Index was outside the bounds of the array."));},New1:function(pc){return $.New(this,u.New1(pc));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,O.New1("Operation is not valid due to the current state of the object."));},New1:function(pd){return $.New(this,u.New1(pd));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(pe){var pf,pg,ph,pi,pj,pk;pf={};pg=f.Get(pe);try{while(pg.MoveNext()){pi=pg.get_Current();pj=pi[1];pk=pi[0];pf[pk]=pj;}}finally{pg.Dispose!=undefined?pg.Dispose():null;}return pf;}}},Json:{Activate:function(pl){var pm,pn,po;pm=pl.$TYPES;for(pn=0;pn<=c.length(pm)-1;pn++){c.set(pm,pn,p.lookup(c.get(pm,pn)));}po=function(pp){var pq,pr,ps,pt,pu,pv,pw,px;if(a.Equals(pp,null)){pq=pp;}else{pr=typeof pp;if(pr==="object"){if(pp instanceof $$.Array){pt=p.shallowMap(po,pp);}else{pu=p.shallowMap(po,pp.$V);pv=pp.$T;if(a.Equals(typeof pv,"undefined")){pw=pu;}else{px=new(c.get(pm,pv))();s.ForEach(pu,function(py){px[py]=pu[py];return false;});pw=px;}pt=pw;}ps=pt;}else{ps=pp;}pq=ps;}return pq;};return po(pl.$DATA);},lookup:function(pz){var pA,pB,pC,pD,pE,pF;pA=c.length(pz);pB=$$;pC=0;while(pC<pA){pD=c.get(pz,pC);pE=pB[pD];if(!a.Equals(typeof pE,undefined)){pB=pE;pF=pC=pC+1;}else{pF=d.FailWith("Invalid server reply. Failed to find type: "+pD);}}return pB;},shallowMap:function(pG,pH){var pI,pJ,pK,pL;if(pH instanceof $$.Array){pI=c.map(pG,pH);}else{pJ=typeof pH;if(pJ==="object"){pL={};s.ForEach(pH,function(pM){pL[pM]=pG(pH[pM]);return false;});pK=pL;}else{pK=pH;}pI=pK;}return pI;}},Lazy:{Create:function(pN){var pO,pP;pO={value:undefined,created:false,eval:pN};pP=function(){var pR;if(pO.created){pR=pO.value;}else{pO.created=true;pO.value=pN(null);pR=pO.value;}return pR;};pO.eval=pP;return pO;},CreateFromValue:function(pS){return{value:pS,created:true,eval:function(){return pS;},eval:function(){return pS;}};},Force:function(pV){return pV.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return g.New(this,null,function(pW){var pX,pY,pZ,p0;pX=pW.s;if(pX.$==0){pY=false;}else{pZ=pX.$1;p0=pX.$0;pW.c=p0;pW.s=pZ;pY=true;}return pY;},function(){});},GetSlice:function(p2,p3){var p4,p5,p6,p7,p8,p9,p_,p$,qa,qb,qc,qd,qe;p4=[p2,p3];if(p4[0].$==1){if(p4[1].$==1){p7=p4[0].$0;p8=p4[1].$0;p9=p8-p7+1;p_=y.skip(p7,this);p$=i.take(p9,p_);p6=e.ofSeq(p$);}else{qa=p4[0].$0;p6=y.skip(qa,this);}p5=p6;}else{if(p4[1].$==1){qc=p4[1].$0;qd=qc+1;qe=i.take(qd,this);qb=e.ofSeq(qe);}else{qb=this;}p5=qb;}return p5;},get_Item:function(qf){return i.nth(qf,this);},get_Length:function(){return i.length(this);}}),append:function(qg,qh){return e.ofSeq(i.append(qg,qh));},choose:function(qi,qj){return e.ofSeq(i.choose(qi,qj));},chunkBySize:function(qk,ql){var qm,qo,qp;qm=function(qn){return e.ofArray(qn);};qo=j.chunkBySize(qk,ql);qp=i.toList(qo);return e.map(qm,qp);},collect:function(qq,qr){return e.ofSeq(i.collect(qq,qr));},compareWith:function(qs,qt,qu){return j.compareWith(qs,qt,qu);},concat:function(qv){return e.ofSeq(i.concat(qv));},contains:function(qw,qx){return j.contains(qw,qx);},countBy:function(qy,qz){var qA;qA=j.countBy(qy,qz);return i.toList(qA);},distinct:function(qB){var qC;qC=j.distinct(qB);return i.toList(qC);},distinctBy:function(qD,qE){var qF;qF=j.distinctBy(qD,qE);return i.toList(qF);},exactlyOne:function(qG){var qH,qI,qJ;if(qG.$==1){if(qG.$1.$==0){qJ=qG.$0;qI=qJ;}else{qI=d.FailWith("The input does not have precisely one element.");}qH=qI;}else{qH=d.FailWith("The input does not have precisely one element.");}return qH;},except:function(qK,qL){var qM;qM=j.except(qK,qL);return i.toList(qM);},exists2:function(qN,qO,qP){return c.exists2(qN,c.ofSeq(qO),c.ofSeq(qP));},filter:function(qQ,qR){return e.ofSeq(i.filter(qQ,qR));},findBack:function(qS,qT){var qU,qV,qW;qU=e.tryFindBack(qS,qT);if(qU.$==0){qV=d.FailWith("KeyNotFoundException");}else{qW=qU.$0;qV=qW;}return qV;},findIndexBack:function(qX,qY){var qZ,q0,q1;qZ=k.tryFindIndexBack(qX,c.ofSeq(qY));if(qZ.$==0){q0=d.FailWith("KeyNotFoundException");}else{q1=qZ.$0;q0=q1;}return q0;},fold2:function(q2,q3,q4,q5){return c.fold2(q2,q3,c.ofSeq(q4),c.ofSeq(q5));},foldBack:function(q6,q7,q8){return c.foldBack(q6,c.ofSeq(q7),q8);},foldBack2:function(q9,q_,q$,ra){return c.foldBack2(q9,c.ofSeq(q_),c.ofSeq(q$),ra);},forall2:function(rb,rc,rd){return c.forall2(rb,c.ofSeq(rc),c.ofSeq(rd));},groupBy:function(re,rf){var rg,rk,rl;rg=function(rh){var ri,rj;ri=rh[0];rj=rh[1];return[ri,i.toList(rj)];};rk=j.groupBy(re,rf);rl=i.toList(rk);return e.map(rg,rl);},head:function(rm){var rn,ro;if(rm.$==1){ro=rm.$0;rn=ro;}else{rn=d.FailWith("The input list was empty.");}return rn;},indexed:function(rp){return e.mapi(function(rq){return function(rr){return[rq,rr];};},rp);},init:function(rs,rt){return e.ofArray(c.init(rs,rt));},iter2:function(ru,rv,rw){return c.iter2(ru,c.ofSeq(rv),c.ofSeq(rw));},iteri2:function(rx,ry,rz){return c.iteri2(rx,c.ofSeq(ry),c.ofSeq(rz));},last:function(rA){return j.last(rA);},map:function(rB,rC){return e.ofSeq(i.map(rB,rC));},map2:function(rD,rE,rF){return e.ofArray(c.map2(rD,c.ofSeq(rE),c.ofSeq(rF)));},mapFold:function(rG,rH,rI){var rJ,rK,rL;rJ=k.mapFold(rG,rH,c.ofSeq(rI));rK=rJ[0];rL=rJ[1];return[e.ofArray(rK),rL];},mapFoldBack:function(rM,rN,rO){var rP,rQ,rR;rP=k.mapFoldBack(rM,c.ofSeq(rN),rO);rQ=rP[0];rR=rP[1];return[e.ofArray(rQ),rR];},mapi:function(rS,rT){return e.ofSeq(i.mapi(rS,rT));},mapi2:function(rU,rV,rW){return e.ofArray(c.mapi2(rU,c.ofSeq(rV),c.ofSeq(rW)));},max:function(rX){return i.reduce(function(rY){return function(rZ){return d.Max(rY,rZ);};},rX);},maxBy:function(r0,r1){return i.reduce(function(r2){return function(r3){return a.Compare(r0(r2),r0(r3))===1?r2:r3;};},r1);},min:function(r4){return i.reduce(function(r5){return function(r6){return d.Min(r5,r6);};},r4);},minBy:function(r7,r8){return i.reduce(function(r9){return function(r_){return a.Compare(r7(r9),r7(r_))===-1?r9:r_;};},r8);},ofArray:function(r$){var sa,sb;sa=$.New(P,{$:0});for(sb=0;sb<=c.length(r$)-1;sb++){sa=$.New(P,{$:1,$0:c.get(r$,c.length(r$)-sb-1),$1:sa});}return sa;},ofSeq:function(sc){var sd,se,sf,sg,sh;sd=$.New(P,{$:0});se=sd;sf=f.Get(sc);try{while(sf.MoveNext()){se.$=1;sh=$.New(P,{$:0});se.$0=sf.get_Current();se.$1=sh;se=sh;}se.$=0;sg=sd;}finally{sf.Dispose!=undefined?sf.Dispose():null;}return sg;},pairwise:function(si){var sj;sj=j.pairwise(si);return i.toList(sj);},partition:function(sk,sl){var sm,sn,so;sm=c.partition(sk,c.ofSeq(sl));sn=sm[1];so=sm[0];return[e.ofArray(so),e.ofArray(sn)];},permute:function(sp,sq){return e.ofArray(c.permute(sp,c.ofSeq(sq)));},reduceBack:function(sr,ss){return c.reduceBack(sr,c.ofSeq(ss));},replicate:function(st,su){return e.ofArray(c.create(st,su));},rev:function(sv){var sw;sw=c.ofSeq(sv);sw.reverse();return e.ofArray(sw);},scan:function(sx,sy,sz){return e.ofSeq(i.scan(sx,sy,sz));},scanBack:function(sA,sB,sC){return e.ofArray(c.scanBack(sA,c.ofSeq(sB),sC));},singleton:function(sD){return e.ofArray([sD]);},sort:function(sE){var sF;sF=c.ofSeq(sE);c.sortInPlace(sF);return e.ofArray(sF);},sortBy:function(sG,sH){return e.sortWith(function(sI){return function(sJ){return d.Compare(sG(sI),sG(sJ));};},sH);},sortByDescending:function(sK,sL){return e.sortWith(function(sM){return function(sN){return-d.Compare(sK(sM),sK(sN));};},sL);},sortDescending:function(sO){var sP;sP=c.ofSeq(sO);k.sortInPlaceByDescending(function(sQ){return sQ;},sP);return e.ofArray(sP);},sortWith:function(sR,sS){var sT;sT=c.ofSeq(sS);c.sortInPlaceWith(sR,sT);return e.ofArray(sT);},splitAt:function(sU,sV){return[e.ofSeq(i.take(sU,sV)),y.skip(sU,sV)];},splitInto:function(sW,sX){var sY,s0,s1;sY=function(sZ){return e.ofArray(sZ);};s0=k.splitInto(sW,c.ofSeq(sX));s1=e.ofArray(s0);return e.map(sY,s1);},tail:function(s2){var s3,s4;if(s2.$==1){s4=s2.$1;s3=s4;}else{s3=d.FailWith("The input list was empty.");}return s3;},tryFindBack:function(s5,s6){return k.tryFindBack(s5,c.ofSeq(s6));},tryHead:function(s7){var s8,s9;if(s7.$==0){s8={$:0};}else{s9=s7.$0;s8={$:1,$0:s9};}return s8;},tryItem:function(s_,s$){return j.tryItem(s_,s$);},tryLast:function(ta){return j.tryLast(ta);},unfold:function(tb,tc){var td;td=j.unfold(tb,tc);return i.toList(td);},unzip:function(te){var tf,tg,th,ti,tj,tk,tl;tf=[];tg=[];th=f.Get(te);try{while(th.MoveNext()){tj=th.get_Current();tk=tj[1];tl=tj[0];tf.push(tl);tg.push(tk);}}finally{th.Dispose!=undefined?th.Dispose():null;}return[e.ofArray(tf.slice(0)),e.ofArray(tg.slice(0))];},unzip3:function(tm){var tn,to,tp,tq,tr,ts,tt,tu,tv;tn=[];to=[];tp=[];tq=f.Get(tm);try{while(tq.MoveNext()){ts=tq.get_Current();tt=ts[2];tu=ts[1];tv=ts[0];tn.push(tv);to.push(tu);tp.push(tt);}}finally{tq.Dispose!=undefined?tq.Dispose():null;}return[e.ofArray(tn.slice(0)),e.ofArray(to.slice(0)),e.ofArray(tp.slice(0))];},windowed:function(tw,tx){var ty,tA,tB;ty=function(tz){return e.ofArray(tz);};tA=j.windowed(tw,tx);tB=i.map(ty,tA);return i.toList(tB);},zip:function(tC,tD){return e.ofArray(c.zip(c.ofSeq(tC),c.ofSeq(tD)));},zip3:function(tE,tF,tG){return e.ofArray(c.zip3(c.ofSeq(tE),c.ofSeq(tF),c.ofSeq(tG)));}},MatchFailureException:$.Class({},{New:function(tH,tI,tJ){return $.New(this,u.New1(tH+" at "+$$.String(tI)+":"+$$.String(tJ)));}}),Nullable:{get:function(tK){return tK==null?d.FailWith("Nullable object must have a value."):tK;},getOrValue:function(tL,tM){return tL==null?tM:tL;}},OperationCanceledException:$.Class({},{New:function(){return $.New(this,I.New1("The operation was canceled."));},New1:function(tN){return $.New(this,u.New1(tN));}}),Operators:{Compare:function(tO,tP){return a.Compare(tO,tP);},DefaultArg:function(tQ,tR){var tS,tT;if(tQ.$==0){tS=tR;}else{tT=tQ.$0;tS=tT;}return tS;},FailWith:function(tU){return d.Raise(u.New1(tU));},KeyValue:function(tV){return[tV.K,tV.V];},Max:function(tW,tX){return a.Compare(tW,tX)===1?tW:tX;},Min:function(tY,tZ){return a.Compare(tY,tZ)===-1?tY:tZ;},Pown:function(t0,t1){var t2;t2=function(t3){var t4,t5,t6;if(t3===1){t4=t0;}else{if(t3%2===0){t6=t2(t3/2>>0);t5=t6*t6;}else{t5=t0*t2(t3-1);}t4=t5;}return t4;};return t2(t1);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(t7){return t7===0?0:t7<0?-1:1;},Truncate:function(t8){return t8<0?R.ceil(t8):R.floor(t8);},Using:function(t9,t_){var t$;try{t$=t_(t9);}finally{t9.Dispose();}return t$;},range:function(ua,ub){var uc;uc=1+ub-ua;return uc<=0?i.empty():i.init(uc,function(ud){return ud+ua;});},step:function(ue,uf,ug){var uh,ui,uk,um;uh=d.Sign(uf);ui=function(uj){return uh*(ug-uj)>=0;};uk=i.initInfinite(function(ul){return ue+ul*uf;});um=i.takeWhile(ui,uk);return um;}},Option:{bind:function(un,uo){var up,uq;if(uo.$==0){up={$:0};}else{uq=uo.$0;up=un(uq);}return up;},exists:function(ur,us){var ut,uu;if(us.$==0){ut=false;}else{uu=us.$0;ut=ur(uu);}return ut;},filter:function(uv,uw){var ux,uy;if(uw.$==1){uy=uw.$0;ux=uv(uy)?{$:1,$0:uy}:{$:0};}else{ux={$:0};}return ux;},fold:function(uz,uA,uB){var uC,uD;if(uB.$==0){uC=uA;}else{uD=uB.$0;uC=(uz(uA))(uD);}return uC;},foldBack:function(uE,uF,uG){var uH,uI;if(uF.$==0){uH=uG;}else{uI=uF.$0;uH=(uE(uI))(uG);}return uH;},forall:function(uJ,uK){var uL,uM;if(uK.$==0){uL=true;}else{uM=uK.$0;uL=uJ(uM);}return uL;},iter:function(uN,uO){var uP,uQ;if(uO.$==0){uP=null;}else{uQ=uO.$0;uP=uN(uQ);}return uP;},map:function(uR,uS){var uT,uU;if(uS.$==0){uT={$:0};}else{uU=uS.$0;uT={$:1,$0:uR(uU)};}return uT;},ofObj:function(uV){return uV==null?{$:0}:{$:1,$0:uV};},toArray:function(uW){var uX,uY;if(uW.$==0){uX=[];}else{uY=uW.$0;uX=[uY];}return uX;},toList:function(uZ){var u0,u1;if(uZ.$==0){u0=$.New(P,{$:0});}else{u1=uZ.$0;u0=e.ofArray([u1]);}return u0;},toObj:function(u2){var u3,u4;if(u2.$==0){}else{u4=u2.$0;u3=u4;}return u3;}},PrintfHelpers:{padNumLeft:function(u5,u6){var u7;u7=c.get(u5,0);return((u7===" "?true:u7==="+")?true:u7==="-")?u7+S.PadLeftWith(u5.substr(1),u6-1,48):S.PadLeftWith(u5,u6,48);},plusForPos:function(u8,u9){return 0<=u8?"+"+u9:u9;},prettyPrint:function(u_){var u$,vj,vk,vl,vm,vn,vp;u$=function(va){var vb,vc,vd,vh,vi;vb=$$.String(va);if(vb==="[object Object]"){vd=function(ve){var vf,vg;vf=ve[0];vg=ve[1];return vf+" = "+T.prettyPrint(vg);};vh=s.GetFields(va);vi=c.map(vd,vh);vc="{"+S.concat("; ",vi)+"}";}else{vc=vb;}return vc;};vj=typeof u_;if(vj=="string"){vk="\""+u_+"\"";}else{if(vj=="object"){if(u_ instanceof $$.Array){vn=function(vo){return T.prettyPrint(vo);};vp=c.map(vn,u_);vm="[|"+S.concat("; ",vp)+"|]";}else{vm=u$(u_);}vl=vm;}else{vl=$$.String(u_);}vk=vl;}return vk;},printArray:function(vq,vr){var vs;vs=c.map(vq,vr);return"[|"+S.concat("; ",vs)+"|]";},printArray2D:function(vt,vu){var vv;vv=i.delay(function(){var vx;vx=vu.length?vu[0].length:0;return i.map(function(vy){var vz;vz=i.delay(function(){return i.map(function(vB){return vt(c.get2D(vu,vy,vB));},d.range(0,vx-1));});return S.concat("; ",vz);},d.range(0,vu.length-1));});return"[["+S.concat("][",vv)+"]]";},printList:function(vC,vD){var vE;vE=i.map(vC,vD);return"["+S.concat("; ",vE)+"]";},spaceForPos:function(vF,vG){return 0<=vF?" "+vG:vG;},toSafe:function(vH){return vH==null?"":vH;}},Queue:{Clear:function(vI){return vI.splice(0,c.length(vI));},Contains:function(vJ,vK){return i.exists(function(vL){return a.Equals(vK,vL);},vJ);},CopyTo:function(vM,vN,vO){return c.blit(vM,0,vN,vO,c.length(vM));}},Random:$.Class({Next:function(){return R.floor(R.random()*2147483648);},Next1:function(vP){return vP<0?d.FailWith("'maxValue' must be greater than zero."):R.floor(R.random()*vP);},Next2:function(vQ,vR){var vS,vT;if(vQ>vR){vS=d.FailWith("'minValue' cannot be greater than maxValue.");}else{vT=vR-vQ;vS=vQ+R.floor(R.random()*vT);}return vS;},NextBytes:function(vU){var vV;for(vV=0;vV<=c.length(vU)-1;vV++){c.set(vU,vV,R.floor(R.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return V.New();}),AjaxRemotingProvider:$.Class({},{Async:function(vW,vX){var vY,vZ;vY=U.makeHeaders(vW);vZ=U.makePayload(vX);return A.Delay(function(){var v1;v1=W.get_CancellationToken();return A.Bind(v1,function(v2){return A.FromContinuations(function(v3){var v4,v5,v6,v7,v8,wa,wd,wg;v4=v3[0];v5=v3[1];v6=v3[2];v7=[true];v8=A.Register(v2,function(){return function(){var v$;if(v7[0]){v7[0]=false;v$=v6(I.New());}else{v$=null;}return v$;}();});wa=function(wb){var wc;if(v7[0]){v7[0]=false;v8.Dispose();wc=v4(p.Activate(q.parse(wb)));}else{wc=null;}return wc;};wd=function(we){var wf;if(v7[0]){v7[0]=false;v8.Dispose();wf=v5(we);}else{wf=null;}return wf;};wg=U.EndPoint();return U.AjaxProvider().Async(wg,vY,vZ,wa,wd);});});});},Send:function(wh,wi){return A.Start(A.Ignore(X.Async(wh,wi)),{$:0});},Sync:function(wj,wk){var wl,wm,wn,wo;wl=U.EndPoint();wm=U.makeHeaders(wj);wn=U.makePayload(wk);wo=U.AjaxProvider().Sync(wl,wm,wn);return p.Activate(q.parse(wo));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var wp,wq,wr,ws;try{if(!S.StartsWith(Y.location.href,"https://")){wr=S.Replace(Y.location.href,"http://","https://");U.EndPoint=function(){return wr;};wq=true;}else{wq=false;}wp=wq;}catch(ws){wp=false;}return wp;},XhrProvider:$.Class({Async:function(wt,wu,wv,ww,wx){return U.ajax(true,wt,wu,wv,ww,wx,function(){return U.ajax(true,wt,wu,wv,ww,wx,undefined);});},Sync:function(wz,wA,wB){var wC;wC=[undefined];U.ajax(false,wz,wA,wB,function(wD){wC[0]=wD;},function(wE){return d.Raise(wE);},function(){return U.ajax(false,wz,wA,wB,function(wG){wC[0]=wG;},function(wH){return d.Raise(wH);},undefined);});return wC[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err,$csrf){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();var csrf=$$.document.cookie.replace(new $$.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}if(csrf){xhr.setRequestHeader("x-csrftoken",csrf);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else if($csrf&&xhr.status==403&&xhr.responseText=="CSRF"){$csrf();}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(wI){var wJ;wJ={};wJ["content-type"]="application/json";wJ["x-websharper-rpc"]=wI;return wJ;},makePayload:function(wK){return q.stringify(wK);}},Seq:{append:function(wL,wM){return h.Of(function(){var wO,wP;wO=f.Get(wL);wP=[true];return g.New(wO,null,function(wQ){var wR,wS,wT,wU;if(wQ.s.MoveNext()){wQ.c=wQ.s.get_Current();wR=true;}else{wS=wQ.s;!a.Equals(wS,null)?wS.Dispose():null;wQ.s=null;if(wP[0]){wP[0]=false;wQ.s=f.Get(wM);if(wQ.s.MoveNext()){wQ.c=wQ.s.get_Current();wU=true;}else{wQ.s.Dispose();wQ.s=null;wU=false;}wT=wU;}else{wT=false;}wR=wT;}return wR;},function(wV){var wW;wW=wV.s;return!a.Equals(wW,null)?wW.Dispose():null;});});},average:function(wX){var wY,w3,w4;wY=i.fold(function(wZ){var w0,w1;w0=wZ[0];w1=wZ[1];return function(w2){return[w0+1,w1+w2];};},[0,0],wX);w3=wY[1];w4=wY[0];return w3/w4;},averageBy:function(w5,w6){var w7,xa,xb;w7=i.fold(function(w8){var w9,w_;w9=w8[0];w_=w8[1];return function(w$){return[w9+1,w_+w5(w$)];};},[0,0],w6);xa=w7[1];xb=w7[0];return xa/xb;},cache:function(xc){var xd,xe,xf;xd=[];xe=[f.Get(xc)];xf=function(){var xh;xh=function(xi){var xj,xk,xl,xm;if(xi.s+1<xd.length){xi.s=xi.s+1;xi.c=xd[xi.s];xj=true;}else{xk=xe[0];if(a.Equals(xk,null)){xl=false;}else{if(xk.MoveNext()){xi.s=xi.s+1;xi.c=xk.get_Current();xd.push(xi.get_Current());xm=true;}else{xk.Dispose();xe[0]=null;xm=false;}xl=xm;}xj=xl;}return xj;};return g.New(0,null,xh,function(){});};return h.Of(xf);},choose:function(xo,xp){var xq;xq=function(xr){var xs,xt,xu;xs=xo(xr);if(xs.$==0){xt=$.New(P,{$:0});}else{xu=xs.$0;xt=e.ofArray([xu]);}return xt;};return i.collect(xq,xp);},collect:function(xv,xw){return i.concat(i.map(xv,xw));},concat:function(xx){return h.Of(function(){var xz,xA;xz=f.Get(xx);xA=function(xB){var xC,xD,xE,xF;xC=xB.s;if(a.Equals(xC,null)){if(xz.MoveNext()){xB.s=f.Get(xz.get_Current());xE=xA(xB);}else{xz.Dispose();xE=false;}xD=xE;}else{if(xC.MoveNext()){xB.c=xC.get_Current();xF=true;}else{xB.Dispose();xB.s=null;xF=xA(xB);}xD=xF;}return xD;};return g.New(null,null,xA,function(xG){var xH;xH=xG.s;!a.Equals(xH,null)?xH.Dispose():null;return!a.Equals(xz,null)?xz.Dispose():null;});});},delay:function(xI){return h.Of(function(){return f.Get(xI(null));});},empty:function(){return[];},enumFinally:function(xK,xL){var xM;xM=function(){var xO,xP,xQ,xR,xT;try{xP=f.Get(xK);}catch(xQ){xL(null);xP=d.Raise(xQ);}xO=xP;xR=function(){xO.Dispose();return xL(null);};xT=function(xU){var xV;if(xO.MoveNext()){xU.c=xO.get_Current();xV=true;}else{xV=false;}return xV;};return g.New(null,null,xT,xR);};return h.Of(xM);},enumUsing:function(xW,xX){var xY;xY=function(){var x0,x1,x2,x3,x5;try{x1=f.Get(xX(xW));}catch(x2){xW.Dispose();x1=d.Raise(x2);}x0=x1;x3=function(){x0.Dispose();return xW.Dispose();};x5=function(x6){var x7;if(x0.MoveNext()){x6.c=x0.get_Current();x7=true;}else{x7=false;}return x7;};return g.New(null,null,x5,x3);};return h.Of(xY);},enumWhile:function(x8,x9){return h.Of(function(){var x$;x$=function(ya){var yb,yc,yd,ye;yb=ya.s;if(a.Equals(yb,null)){if(x8(null)){ya.s=f.Get(x9);yd=x$(ya);}else{yd=false;}yc=yd;}else{if(yb.MoveNext()){ya.c=yb.get_Current();ye=true;}else{yb.Dispose();ya.s=null;ye=x$(ya);}yc=ye;}return yc;};return g.New(null,null,x$,function(yf){var yg;yg=yf.s;return!a.Equals(yg,null)?yg.Dispose():null;});});},exists:function(yh,yi){var yj,yk,yl;yj=f.Get(yi);try{yl=false;while(!yl?yj.MoveNext():false){yl=yh(yj.get_Current());}yk=yl;}finally{yj.Dispose!=undefined?yj.Dispose():null;}return yk;},exists2:function(ym,yn,yo){var yp,yq,yr,ys,yt;yp=f.Get(yn);try{yr=f.Get(yo);try{yt=false;while((!yt?yp.MoveNext():false)?yr.MoveNext():false){yt=(ym(yp.get_Current()))(yr.get_Current());}ys=yt;}finally{yr.Dispose!=undefined?yr.Dispose():null;}yq=ys;}finally{yp.Dispose!=undefined?yp.Dispose():null;}return yq;},filter:function(yu,yv){var yw;yw=function(){var yy,yz,yB;yy=f.Get(yv);yz=function(){return yy.Dispose();};yB=function(yC){var yD,yE,yF,yG;yD=yy.MoveNext();yE=yy.get_Current();yF=false;while(yD){if(yu(yE)){yC.c=yE;yF=true;yG=yD=false;}else{yG=yy.MoveNext()?yE=yy.get_Current():yD=false;}}return yF;};return g.New(null,null,yB,yz);};return h.Of(yw);},find:function(yH,yI){var yJ,yK,yL;yJ=i.tryFind(yH,yI);if(yJ.$==0){yK=d.FailWith("KeyNotFoundException");}else{yL=yJ.$0;yK=yL;}return yK;},findBack:function(yM,yN){var yO,yP,yQ;yO=k.tryFindBack(yM,c.ofSeq(yN));if(yO.$==0){yP=d.FailWith("KeyNotFoundException");}else{yQ=yO.$0;yP=yQ;}return yP;},findIndex:function(yR,yS){var yT,yU,yV;yT=i.tryFindIndex(yR,yS);if(yT.$==0){yU=d.FailWith("KeyNotFoundException");}else{yV=yT.$0;yU=yV;}return yU;},findIndexBack:function(yW,yX){var yY,yZ,y0;yY=k.tryFindIndexBack(yW,c.ofSeq(yX));if(yY.$==0){yZ=d.FailWith("KeyNotFoundException");}else{y0=yY.$0;yZ=y0;}return yZ;},fold:function(y1,y2,y3){var y4,y5,y6;y4=y2;y5=f.Get(y3);try{while(y5.MoveNext()){y4=(y1(y4))(y5.get_Current());}y6=y4;}finally{y5.Dispose!=undefined?y5.Dispose():null;}return y6;},fold2:function(y7,y8,y9,y_){return c.fold2(y7,y8,c.ofSeq(y9),c.ofSeq(y_));},foldBack:function(y$,za,zb){return c.foldBack(y$,c.ofSeq(za),zb);},foldBack2:function(zc,zd,ze,zf){return c.foldBack2(zc,c.ofSeq(zd),c.ofSeq(ze),zf);},forall:function(zg,zh){return!i.exists(function(zi){return!zg(zi);},zh);},forall2:function(zj,zk,zl){return!i.exists2(function(zm){return function(zn){return!(zj(zm))(zn);};},zk,zl);},head:function(zo){var zp,zq;zp=f.Get(zo);try{zq=zp.MoveNext()?zp.get_Current():j.insufficient();}finally{zp.Dispose!=undefined?zp.Dispose():null;}return zq;},indexed:function(zr){return i.mapi(function(zs){return function(zt){return[zs,zt];};},zr);},init:function(zu,zv){return i.take(zu,i.initInfinite(zv));},initInfinite:function(zw){var zx;zx=function(){var zz;zz=function(zA){zA.c=zw(zA.s);zA.s=zA.s+1;return true;};return g.New(0,null,zz,function(){});};return h.Of(zx);},isEmpty:function(zC){var zD,zE;zD=f.Get(zC);try{zE=!zD.MoveNext();}finally{zD.Dispose!=undefined?zD.Dispose():null;}return zE;},iter:function(zF,zG){return i.iteri(function(){return function(zI){return zF(zI);};},zG);},iter2:function(zJ,zK,zL){var zM,zN,zO,zP;zM=f.Get(zK);try{zO=f.Get(zL);try{while(zM.MoveNext()?zO.MoveNext():false){(zJ(zM.get_Current()))(zO.get_Current());}}finally{zO.Dispose!=undefined?zO.Dispose():null;}zN=zP;}finally{zM.Dispose!=undefined?zM.Dispose():null;}return zN;},iteri:function(zQ,zR){var zS,zT,zU;zS=0;zT=f.Get(zR);try{while(zT.MoveNext()){(zQ(zS))(zT.get_Current());zS=zS+1;}}finally{zT.Dispose!=undefined?zT.Dispose():null;}return zU;},iteri2:function(zV,zW,zX){return c.iteri2(zV,c.ofSeq(zW),c.ofSeq(zX));},length:function(zY){var zZ,z0,z1;zZ=0;z0=f.Get(zY);try{while(z0.MoveNext()){zZ=zZ+1;}z1=zZ;}finally{z0.Dispose!=undefined?z0.Dispose():null;}return z1;},map:function(z2,z3){var z4;z4=function(){var z6,z7,z9;z6=f.Get(z3);z7=function(){return z6.Dispose();};z9=function(z_){var z$;if(z6.MoveNext()){z_.c=z2(z6.get_Current());z$=true;}else{z$=false;}return z$;};return g.New(null,null,z9,z7);};return h.Of(z4);},map2:function(Aa,Ab,Ac){var Ad;Ad=function(){var Af,Ag,Ah,Aj;Af=f.Get(Ab);Ag=f.Get(Ac);Ah=function(){Af.Dispose();return Ag.Dispose();};Aj=function(Ak){var Al;if(Af.MoveNext()?Ag.MoveNext():false){Ak.c=(Aa(Af.get_Current()))(Ag.get_Current());Al=true;}else{Al=false;}return Al;};return g.New(null,null,Aj,Ah);};return h.Of(Ad);},map3:function(Am,An,Ao,Ap){var Aq;Aq=function(){var As,At,Au,Av,Ax;As=f.Get(An);At=f.Get(Ao);Au=f.Get(Ap);Av=function(){As.Dispose();At.Dispose();return Au.Dispose();};Ax=function(Ay){var Az;if((As.MoveNext()?At.MoveNext():false)?Au.MoveNext():false){Ay.c=((Am(As.get_Current()))(At.get_Current()))(Au.get_Current());Az=true;}else{Az=false;}return Az;};return g.New(null,null,Ax,Av);};return h.Of(Aq);},mapFold:function(AA,AB,AC){var AD,AE,AF;AD=k.mapFold(AA,AB,i.toArray(AC));AE=AD[0];AF=AD[1];return[AE,AF];},mapFoldBack:function(AG,AH,AI){var AJ,AK,AL;AJ=k.mapFoldBack(AG,i.toArray(AH),AI);AK=AJ[0];AL=AJ[1];return[AK,AL];},mapi:function(AM,AN){return i.map2(AM,i.initInfinite(function(AO){return AO;}),AN);},mapi2:function(AP,AQ,AR){return i.map3(AP,i.initInfinite(function(AS){return AS;}),AQ,AR);},max:function(AT){return i.reduce(function(AU){return function(AV){return a.Compare(AU,AV)>=0?AU:AV;};},AT);},maxBy:function(AW,AX){return i.reduce(function(AY){return function(AZ){return a.Compare(AW(AY),AW(AZ))>=0?AY:AZ;};},AX);},min:function(A0){return i.reduce(function(A1){return function(A2){return a.Compare(A1,A2)<=0?A1:A2;};},A0);},minBy:function(A3,A4){return i.reduce(function(A5){return function(A6){return a.Compare(A3(A5),A3(A6))<=0?A5:A6;};},A4);},nth:function(A7,A8){var A9,A_,A$;A7<0?d.FailWith("negative index requested"):null;A9=-1;A_=f.Get(A8);try{while(A9<A7){!A_.MoveNext()?j.insufficient():null;A9=A9+1;}A$=A_.get_Current();}finally{A_.Dispose!=undefined?A_.Dispose():null;}return A$;},permute:function(Ba,Bb){return i.delay(function(){return c.permute(Ba,c.ofSeq(Bb));});},pick:function(Bd,Be){var Bf,Bg,Bh;Bf=i.tryPick(Bd,Be);if(Bf.$==0){Bg=d.FailWith("KeyNotFoundException");}else{Bh=Bf.$0;Bg=Bh;}return Bg;},readOnly:function(Bi){return h.Of(function(){return f.Get(Bi);});},reduce:function(Bk,Bl){var Bm,Bn,Bo;Bm=f.Get(Bl);try{!Bm.MoveNext()?d.FailWith("The input sequence was empty"):null;Bo=Bm.get_Current();while(Bm.MoveNext()){Bo=(Bk(Bo))(Bm.get_Current());}Bn=Bo;}finally{Bm.Dispose!=undefined?Bm.Dispose():null;}return Bn;},reduceBack:function(Bp,Bq){return c.reduceBack(Bp,c.ofSeq(Bq));},replicate:function(Br,Bs){Br<0?j.nonNegative():null;return i.delay(function(){return i.map(function(){return Bs;},d.range(0,Br-1));});},rev:function(Bv){return i.delay(function(){var Bx;Bx=i.toArray(Bv).slice().reverse();return Bx;});},scan:function(By,Bz,BA){var BB;BB=function(){var BD,BE,BG;BD=f.Get(BA);BE=function(){return BD.Dispose();};BG=function(BH){var BI,BJ;if(BH.s){if(BD.MoveNext()){BH.c=(By(BH.get_Current()))(BD.get_Current());BJ=true;}else{BJ=false;}BI=BJ;}else{BH.c=Bz;BH.s=true;BI=true;}return BI;};return g.New(false,null,BG,BE);};return h.Of(BB);},scanBack:function(BK,BL,BM){return i.delay(function(){return c.scanBack(BK,c.ofSeq(BL),BM);});},skip:function(BO,BP){return h.Of(function(){var BR;BR=f.Get(BP);return g.New(true,null,function(BS){var BT,BU,BV;if(BS.s){for(BU=1;BU<=BO;BU++){!BR.MoveNext()?j.insufficient():null;}BT=void(BS.s=false);}else{BT=null;}if(BR.MoveNext()){BS.c=BR.get_Current();BV=true;}else{BV=false;}return BV;},function(){return BR.Dispose();});});},skipWhile:function(BX,BY){return h.Of(function(){var B0;B0=f.Get(BY);return g.New(true,null,function(B1){var B2,B3,B4,B5,B6,B7;if(B1.s){B3=true;B4=false;while(B3){if(B0.MoveNext()){B5=!BX(B0.get_Current())?B3=false:null;}else{B3=false;B5=B4=true;}}B1.s=false;if(B4){B6=false;}else{B1.c=B0.get_Current();B6=true;}B2=B6;}else{if(B0.MoveNext()){B1.c=B0.get_Current();B7=true;}else{B7=false;}B2=B7;}return B2;},function(){return B0.Dispose();});});},sort:function(B9){return i.sortBy(function(B_){return B_;},B9);},sortBy:function(B$,Ca){return i.delay(function(){var Cc;Cc=c.ofSeq(Ca);c.sortInPlaceBy(B$,Cc);return Cc;});},sortByDescending:function(Cd,Ce){return i.delay(function(){var Cg;Cg=c.ofSeq(Ce);k.sortInPlaceByDescending(Cd,Cg);return Cg;});},sortDescending:function(Ch){return i.sortByDescending(function(Ci){return Ci;},Ch);},sortWith:function(Cj,Ck){return i.delay(function(){var Cm;Cm=c.ofSeq(Ck);c.sortInPlaceWith(Cj,Cm);return Cm;});},splitInto:function(Cn,Co){Cn<=0?d.FailWith("Count must be positive"):null;return i.delay(function(){var Cq;Cq=k.splitInto(Cn,c.ofSeq(Co));return Cq;});},sum:function(Cr){return i.fold(function(Cs){return function(Ct){return Cs+Ct;};},0,Cr);},sumBy:function(Cu,Cv){return i.fold(function(Cw){return function(Cx){return Cw+Cu(Cx);};},0,Cv);},tail:function(Cy){return i.skip(1,Cy);},take:function(Cz,CA){Cz<0?j.nonNegative():null;return h.Of(function(){var CC;CC=[f.Get(CA)];return g.New(0,null,function(CD){var CE,CF,CG,CH,CI;CD.s=CD.s+1;if(CD.s>Cz){CE=false;}else{CF=CC[0];if(a.Equals(CF,null)){CG=j.insufficient();}else{if(CF.MoveNext()){CD.c=CF.get_Current();if(CD.s===Cz){CF.Dispose();CI=void(CC[0]=null);}else{CI=null;}CH=true;}else{CF.Dispose();CC[0]=null;CH=j.insufficient();}CG=CH;}CE=CG;}return CE;},function(){var CK;CK=CC[0];return!a.Equals(CK,null)?CK.Dispose():null;});});},takeWhile:function(CL,CM){return i.delay(function(){return i.enumUsing(f.Get(CM),function(CO){return i.enumWhile(function(){return CO.MoveNext()?CL(CO.get_Current()):false;},i.delay(function(){return[CO.get_Current()];}));});});},toArray:function(CR){var CS,CT,CU,CV;CS=[];CT=f.Get(CR);try{while(CT.MoveNext()){CV=CT.get_Current();CS.push(CV);}}finally{CT.Dispose!=undefined?CT.Dispose():null;}return CS.slice(0);},toList:function(CW){return e.ofSeq(CW);},tryFind:function(CX,CY){var CZ,C0,C1,C2;CZ=f.Get(CY);try{C1={$:0};while(C1.$==0?CZ.MoveNext():false){C2=CZ.get_Current();CX(C2)?C1={$:1,$0:C2}:null;}C0=C1;}finally{CZ.Dispose!=undefined?CZ.Dispose():null;}return C0;},tryFindIndex:function(C3,C4){var C5,C6,C7,C8,C9;C5=f.Get(C4);try{C7=true;C8=0;while(C7?C5.MoveNext():false){C9=C5.get_Current();C3(C9)?C7=false:C8=C8+1;}C6=C7?{$:0}:{$:1,$0:C8};}finally{C5.Dispose!=undefined?C5.Dispose():null;}return C6;},tryPick:function(C_,C$){var Da,Db,Dc;Da=f.Get(C$);try{Dc={$:0};while(a.Equals(Dc,{$:0})?Da.MoveNext():false){Dc=C_(Da.get_Current());}Db=Dc;}finally{Da.Dispose!=undefined?Da.Dispose():null;}return Db;},zip:function(Dd,De){return i.map2(function(Df){return function(Dg){return[Df,Dg];};},Dd,De);},zip3:function(Dh,Di,Dj){return i.map2(function(Dk){return function(Dl){var Dm,Dn;Dm=Dl[0];Dn=Dl[1];return[Dk,Dm,Dn];};},Dh,i.zip(Di,Dj));}},Slice:{array:function(Do,Dp,Dq){var Dr,Ds,Dt,Du,Dv,Dw,Dx,Dy;Dr=[Dp,Dq];if(Dr[0].$==0){if(Dr[1].$==1){Du=Dr[1].$0;Dt=Do.slice(0,Du+1);}else{Dt=[];}Ds=Dt;}else{if(Dr[1].$==0){Dw=Dr[0].$0;Dv=Do.slice(Dw);}else{Dx=Dr[1].$0;Dy=Dr[0].$0;Dv=Do.slice(Dy,Dx+1);}Ds=Dv;}return Ds;},array2D:function(Dz,DA,DB,DC,DD){var DE,DF,DG,DH,DI,DJ,DK,DL,DM,DN,DO,DP,DQ,DR;if(DA.$==1){DG=DA.$0;DF=DG;}else{DF=0;}DE=DF;if(DC.$==1){DJ=DC.$0;DI=DJ;}else{DI=0;}DH=DI;if(DB.$==1){DM=DB.$0;DL=DM;}else{DL=Dz.length-1;}DK=DL;if(DD.$==1){DP=DD.$0;DO=DP;}else{DO=(Dz.length?Dz[0].length:0)-1;}DN=DO;DQ=DK-DE+1;DR=DN-DH+1;return c.sub2D(Dz,DE,DH,DQ,DR);},array2Dfix1:function(DS,DT,DU,DV){var DW,DX,DY,DZ,D0,D1,D2,D3,D4;if(DU.$==1){DY=DU.$0;DX=DY;}else{DX=0;}DW=DX;if(DV.$==1){D1=DV.$0;D0=D1;}else{D0=(DS.length?DS[0].length:0)-1;}DZ=D0;D2=DZ-DW+1;D3=b(D2);for(D4=0;D4<=D2-1;D4++){c.set(D3,D4,c.get2D(DS,DT,DW+D4));}return D3;},array2Dfix2:function(D5,D6,D7,D8){var D9,D_,D$,Ea,Eb,Ec,Ed,Ee,Ef;if(D6.$==1){D$=D6.$0;D_=D$;}else{D_=0;}D9=D_;if(D7.$==1){Ec=D7.$0;Eb=Ec;}else{Eb=D5.length-1;}Ea=Eb;Ed=Ea-D9+1;Ee=b(Ed);for(Ef=0;Ef<=Ed-1;Ef++){c.set(Ee,Ef,c.get2D(D5,D9+Ef,D8));}return Ee;},setArray:function(Eg,Eh,Ei,Ej){var Ek,El,Em,En,Eo,Ep;if(Eh.$==1){Em=Eh.$0;El=Em;}else{El=0;}Ek=El;if(Ei.$==1){Ep=Ei.$0;Eo=Ep;}else{Eo=Eg.length-1;}En=Eo;return c.setSub(Eg,Ek,En-Ek+1,Ej);},setArray2D:function(Eq,Er,Es,Et,Eu,Ev){var Ew,Ex,Ey,Ez,EA,EB,EC,ED,EE,EF,EG,EH;if(Er.$==1){Ey=Er.$0;Ex=Ey;}else{Ex=0;}Ew=Ex;if(Et.$==1){EB=Et.$0;EA=EB;}else{EA=0;}Ez=EA;if(Es.$==1){EE=Es.$0;ED=EE;}else{ED=Eq.length-1;}EC=ED;if(Eu.$==1){EH=Eu.$0;EG=EH;}else{EG=(Eq.length?Eq[0].length:0)-1;}EF=EG;return c.setSub2D(Eq,Ew,Ez,EC-Ew+1,EF-Ez+1,Ev);},setArray2Dfix1:function(EI,EJ,EK,EL,EM){var EN,EO,EP,EQ,ER,ES,ET,EU;if(EK.$==1){EP=EK.$0;EO=EP;}else{EO=0;}EN=EO;if(EL.$==1){ES=EL.$0;ER=ES;}else{ER=(EI.length?EI[0].length:0)-1;}EQ=ER;ET=EQ-EN+1;for(EU=0;EU<=ET-1;EU++){c.set2D(EI,EJ,EN+EU,c.get(EM,EU));}return;},setArray2Dfix2:function(EV,EW,EX,EY,EZ){var E0,E1,E2,E3,E4,E5,E6,E7;if(EW.$==1){E2=EW.$0;E1=E2;}else{E1=0;}E0=E1;if(EX.$==1){E5=EX.$0;E4=E5;}else{E4=EV.length-1;}E3=E4;E6=E3-E0+1;for(E7=0;E7<=E6-1;E7++){c.set2D(EV,E0+E7,EY,c.get(EZ,E7));}return;},string:function(E8,E9,E_){var E$,Fa,Fb,Fc,Fd,Fe,Ff,Fg;E$=[E9,E_];if(E$[0].$==0){if(E$[1].$==1){Fc=E$[1].$0;Fb=E8.slice(0,Fc+1);}else{Fb="";}Fa=Fb;}else{if(E$[1].$==0){Fe=E$[0].$0;Fd=E8.slice(Fe);}else{Ff=E$[1].$0;Fg=E$[0].$0;Fd=E8.slice(Fg,Ff+1);}Fa=Fd;}return Fa;}},Stack:{Clear:function(Fh){return Fh.splice(0,c.length(Fh));},Contains:function(Fi,Fj){return i.exists(function(Fk){return a.Equals(Fj,Fk);},Fi);},CopyTo:function(Fl,Fm,Fn){return c.blit(Fm,0,Fm,Fn,c.length(Fl));}},Strings:{Compare:function(Fo,Fp){return d.Compare(Fo,Fp);},CopyTo:function(Fq,Fr,Fs,Ft,Fu){return c.blit(S.ToCharArray(Fq),Fr,Fs,Ft,Fu);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},Filter:function(Fv,Fw){var Fx,Fz;Fx=function(Fy){return Fv(Fy)?{$:1,$0:Z.fromCharCode(Fy)}:{$:0};};Fz=i.choose(Fx,Fw);return c.ofSeq(Fz).join("");},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},IsNullOrWhiteSpace:function($x){var $0=this,$this=this;return $x==null||(/^\s*$/).test($x);},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(FA,FB){return S.PadLeftWith(FA,FB,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s:$s;},PadRight:function(FC,FD){return S.PadRightWith(FC,FD,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c)):$s;},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(FE,FF,FG){var FH;FH=function(FI){var FJ,FK,FL,FM;FJ=FI.indexOf(FF);if(FJ!==-1){FL=S.ReplaceOnce(FI,FF,FG);FM=FJ+FG.length;FK=S.Substring(FL,0,FJ+FG.length)+FH(FL.substring(FM));}else{FK=FI;}return FK;};return FH(FE);},ReplaceChar:function(FN,FO,FP){return S.Replace(FN,Z.fromCharCode(FO),Z.fromCharCode(FP));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(FQ,FR,FS){var FT;FT=S.SplitWith(FQ,FR);return FS===1?c.filter(function(FU){return FU!=="";},FT):FT;},SplitChars:function(FV,FW,FX){var FY;FY="["+S.RegexEscape(Z.fromCharCode.apply(undefined,FW))+"]";return S.Split(FV,new _0(FY),FX);},SplitStrings:function(FZ,F0,F1){var F2;F2=S.concat("|",c.map(function(F3){return S.RegexEscape(F3);},F0));return S.Split(FZ,new _0(F2),F1);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(F4){return c.init(F4.length,function(F5){return F4.charCodeAt(F5);});},ToCharArrayRange:function(F6,F7,F8){return c.init(F8,function(F9){return F6.charCodeAt(F7+F9);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(F_,F$){return c.init(F$.length,function(Ga){return F_(F$.charCodeAt(Ga));}).join("");},concat:function(Gb,Gc){return i.toArray(Gc).join(Gb);},exists:function(Gd,Ge){return i.exists(Gd,S.protect(Ge));},forall:function(Gf,Gg){return i.forall(Gf,S.protect(Gg));},init:function(Gh,Gi){return c.init(Gh,Gi).join("");},iter:function(Gj,Gk){return i.iter(Gj,S.protect(Gk));},iteri:function(Gl,Gm){return i.iteri(Gl,S.protect(Gm));},length:function(Gn){return S.protect(Gn).length;},map:function(Go,Gp){return S.collect(function(Gq){return Z.fromCharCode(Go(Gq));},S.protect(Gp));},mapi:function(Gr,Gs){return i.toArray(i.mapi(function(Gt){return function(Gu){return Z.fromCharCode((Gr(Gt))(Gu));};},Gs)).join("");},protect:function(Gv){return Gv===null?"":Gv;},replicate:function(Gw,Gx){return S.init(Gw,function(){return Gx;});}},Unchecked:{Compare:function(Gz,GA){var GB,GL,GM,GN,GO;GB=function(GC){return function(GD){var GE;GE=[0];s.ForEach(GC,function(GF){var GG,GH;if(!GC.hasOwnProperty(GF)){GG=false;}else{if(!GD.hasOwnProperty(GF)){GE[0]=1;GH=true;}else{GE[0]=a.Compare(GC[GF],GD[GF]);GH=GE[0]!==0;}GG=GH;}return GG;});GE[0]===0?s.ForEach(GD,function(GI){var GJ,GK;if(!GD.hasOwnProperty(GI)){GJ=false;}else{if(!GC.hasOwnProperty(GI)){GE[0]=-1;GK=true;}else{GK=false;}GJ=GK;}return GJ;}):null;return GE[0];};};if(Gz===GA){GL=0;}else{GM=typeof Gz;if(GM==="function"){GN=d.FailWith("Cannot compare function values.");}else{if(GM==="boolean"){GN=Gz<GA?-1:1;}else{if(GM==="number"){GN=Gz<GA?-1:1;}else{if(GM==="string"){GN=Gz<GA?-1:1;}else{if(GM==="object"){GN=Gz===null?-1:GA===null?1:"CompareTo"in Gz?Gz.CompareTo(GA):(Gz instanceof b?GA instanceof b:false)?a.compareArrays(Gz,GA):(Gz instanceof J?GA instanceof J:false)?a.compareDates(Gz,GA):(GB(Gz))(GA);}else{GO=typeof GA;GN=GO==="undefined"?0:-1;}}}}}GL=GN;}return GL;},Equals:function(GP,GQ){var GR,GX,GY;GR=function(GS){return function(GT){var GU;GU=[true];s.ForEach(GS,function(GV){GU[0]=!GS.hasOwnProperty(GV)?true:GT.hasOwnProperty(GV)?a.Equals(GS[GV],GT[GV]):false;return!GU[0];});GU[0]?s.ForEach(GT,function(GW){GU[0]=!GT.hasOwnProperty(GW)?true:GS.hasOwnProperty(GW);return!GU[0];}):null;return GU[0];};};if(GP===GQ){GX=true;}else{GY=typeof GP;GX=GY==="object"?(((GP===null?true:GP===undefined)?true:GQ===null)?true:GQ===undefined)?false:"Equals"in GP?GP.Equals(GQ):(GP instanceof b?GQ instanceof b:false)?a.arrayEquals(GP,GQ):(GP instanceof J?GQ instanceof J:false)?a.dateEquals(GP,GQ):(GR(GP))(GQ):false;}return GX;},Hash:function(GZ){var G0;G0=typeof GZ;return G0==="function"?0:G0==="boolean"?GZ?1:0:G0==="number"?GZ:G0==="string"?a.hashString(GZ):G0==="object"?GZ==null?0:GZ instanceof b?a.hashArray(GZ):a.hashObject(GZ):0;},arrayEquals:function(G1,G2){var G3,G4,G5;if(c.length(G1)===c.length(G2)){G4=true;G5=0;while(G4?G5<c.length(G1):false){!a.Equals(c.get(G1,G5),c.get(G2,G5))?G4=false:null;G5=G5+1;}G3=G4;}else{G3=false;}return G3;},compareArrays:function(G6,G7){var G8,G9,G_,G$;if(c.length(G6)<c.length(G7)){G8=-1;}else{if(c.length(G6)>c.length(G7)){G9=1;}else{G_=0;G$=0;while(G_===0?G$<c.length(G6):false){G_=a.Compare(c.get(G6,G$),c.get(G7,G$));G$=G$+1;}G9=G_;}G8=G9;}return G8;},compareDates:function(Ha,Hb){return d.Compare(Ha.getTime(),Hb.getTime());},dateEquals:function(Hc,Hd){return Hc.getTime()===Hd.getTime();},hashArray:function(He){var Hf,Hg;Hf=-34948909;for(Hg=0;Hg<=c.length(He)-1;Hg++){Hf=a.hashMix(Hf,a.Hash(c.get(He,Hg)));}return Hf;},hashMix:function(Hh,Hi){return(Hh<<5)+Hh+Hi;},hashObject:function(Hj){var Hk,Hl,Ho;if("GetHashCode"in Hj){Hk=Hj.GetHashCode();}else{Hl=function(Hm,Hn){return a.hashMix(Hm,Hn);};Ho=[0];s.ForEach(Hj,function(Hp){Ho[0]=Hl(Hl(Ho[0],a.hashString(Hp)),a.Hash(Hj[Hp]));return false;});Hk=Ho[0];}return Hk;},hashString:function(Hq){var Hr,Hs,Ht;if(Hq===null){Hr=0;}else{Hs=5381;for(Ht=0;Ht<=Hq.length-1;Ht++){Hs=a.hashMix(Hs,Hq.charCodeAt(Ht)<<0);}Hr=Hs;}return Hr;}},Util:{addListener:function(Hu,Hv){Hu.Subscribe(G.observer(Hv));},observer:function(Hw){return{OnCompleted:function(){},OnError:function(){},OnNext:Hw};},subscribeTo:function(Hz,HA){return Hz.Subscribe(G.observer(HA));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Operators);e=$.Safe($$.WebSharper.List);f=$.Safe($$.WebSharper.Enumerator);g=$.Safe(f.T);h=$.Safe($$.WebSharper.Enumerable);i=$.Safe($$.WebSharper.Seq);j=$.Safe($$.Seq);k=$.Safe($$.Arrays);l=$.Safe($$.WebSharper.Ref);m=$.Safe($$.WebSharper.Activator);n=$.Safe($$.document);o=$.Safe($$.jQuery);p=$.Safe($$.WebSharper.Json);q=$.Safe($$.JSON);r=$.Safe($$.WebSharper.JavaScript);s=$.Safe(r.JSModule);t=$.Safe($$.WebSharper.AggregateException);u=$.Safe($$.WebSharper.Exception);v=$.Safe($$.WebSharper.ArgumentException);w=$.Safe($$.Number);x=$.Safe($$.WebSharper.IndexOutOfRangeException);y=$.Safe($$.List);z=$.Safe($$.WebSharper.Arrays2D);A=$.Safe($$.WebSharper.Concurrency);B=$.Safe($$.WebSharper.Option);C=$.Safe($$.clearTimeout);D=$.Safe($$.setTimeout);E=$.Safe($$.WebSharper.CancellationTokenSource);F=$.Safe($$.WebSharper.Char);G=$.Safe($$.WebSharper.Util);H=$.Safe($$.WebSharper.Lazy);I=$.Safe($$.WebSharper.OperationCanceledException);J=$.Safe($$.Date);K=$.Safe($$.console);L=$.Safe(A.Scheduler);M=$.Safe($$.WebSharper.HtmlContentExtensions);N=$.Safe(M.SingleNode);O=$.Safe($$.WebSharper.InvalidOperationException);P=$.Safe(e.T);Q=$.Safe($$.WebSharper.MatchFailureException);R=$.Safe($$.Math);S=$.Safe($$.WebSharper.Strings);T=$.Safe($$.WebSharper.PrintfHelpers);U=$.Safe($$.WebSharper.Remoting);V=$.Safe(U.XhrProvider);W=$.Safe($$.WebSharper.AsyncProxy);X=$.Safe(U.AjaxRemotingProvider);Y=$.Safe($$.window);Z=$.Safe($$.String);return _0=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(t,u);$.Inherit(v,u);$.Inherit(x,u);$.Inherit(O,u);$.Inherit(Q,u);$.Inherit(I,u);U.EndPoint();U.AjaxProvider();A.scheduler();A.defCTS();A.GetCT();m.Activate();return;});}());
